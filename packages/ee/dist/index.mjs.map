{
  "version": 3,
  "sources": ["../src/index.mts"],
  "sourcesContent": ["#!/usr/bin/env node\n/*\n * Copyright (c) 2021 Kiyozz.\n *\n * All rights reserved.\n */\n\nimport { Format } from 'esbuild'\nimport * as fs from 'fs/promises'\nimport minimist from 'minimist'\nimport * as path from 'path'\n\nimport { build } from './build.mjs'\n\ntype Args = {\n  'check-types'?: boolean\n  'ts-project'?: string\n  format?: Format | Format[]\n  external?: string | string[]\n  'clean-outdir'?: boolean\n  outdir?: string\n  target?: string\n}\n\nconst argv = minimist<Args>(process.argv.slice(2))\n\nif (argv.version) {\n  console.log(\n    JSON.parse(\n      (await fs.readFile(path.resolve(__dirname, '../package.json'))).toString(\n        'utf-8',\n      ),\n    ).version,\n  )\n  process.exit(0)\n}\n\nconst toArray = <T extends string>(value?: T | T[]): T[] => {\n  return value ? (typeof value === 'string' ? [value] : value) : []\n}\n\nconst entries = argv._\nconst {\n  _,\n  '--': __,\n  'check-types': checkTypes,\n  'ts-project': tsProject = 'tsconfig.json',\n  format,\n  external,\n  'clean-outdir': cleanOutDir,\n  outdir,\n  target,\n  ...options\n} = argv\n\nconst formats = toArray(format)\nconst externals = toArray(external)\n\nawait build({\n  entries,\n  tsProject,\n  outdir,\n  cleanOutDir,\n  checkTypes,\n  formats,\n  target,\n  options: {\n    ...options,\n    external: externals,\n  },\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA;AACA;AACA;AAEA;AAYA,MAAM,OAAO,SAAe,QAAQ,KAAK,MAAM;AAE/C,IAAI,KAAK,SAAS;AAChB,UAAQ,IACN,KAAK,MACF,OAAM,GAAG,SAAS,KAAK,QAAQ,WAAW,qBAAqB,SAC9D,UAEF;AAEJ,UAAQ,KAAK;AAAA;AAGf,MAAM,UAAU,CAAmB,UAAyB;AAC1D,SAAO,QAAS,OAAO,UAAU,WAAW,CAAC,SAAS,QAAS;AAAA;AAGjE,MAAM,UAAU,KAAK;AACrB,MAWI,WAVF;AAAA;AAAA,EACA,MAAM;AAAA,EACN,eAAe;AAAA,EACf,cAAc,YAAY;AAAA,EAC1B;AAAA,EACA;AAAA,EACA,gBAAgB;AAAA,EAChB;AAAA,EACA;AAAA,IAEE,IADC,oBACD,IADC;AAAA,EATH;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAIF,MAAM,UAAU,QAAQ;AACxB,MAAM,YAAY,QAAQ;AAE1B,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,SAAS,iCACJ,UADI;AAAA,IAEP,UAAU;AAAA;AAAA;",
  "names": []
}
